{% extends 'base.html.twig' %}

{% block title %}
    {{ movie_count }} Filme
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
{% endblock %}

{% block body %}
    <div class="container float-none border-2 rounded-3 p-3 bg-black bg-opacity-50" style="backdrop-filter: blur(12px)">
        {% include 'menu.part.html.twig' %}

        <div class="row container">
            <div class="col-12 col-lg-8 order-lg-2">
                {{ form_start(movie_search) }}

                <div class="row">
                    <div class="col col-2">
                        {{ form_label(movie_search.query) }}
                    </div>
                    <div class="col col-8">
                        {{ form_widget(movie_search.query) }}
                    </div>
                    <div class="col col-2">
                        {{ form_widget(movie_search.submit, {'attr':{'class':'btn-primary d-block position-relative start-50 top-50 translate-middle'}}) }}
                    </div>
                </div>
                <div class="row">
                    {{ form_errors(movie_search.query) }}
                </div>

                {{ form_end(movie_search) }}

                {% if movies | length == 0 %}

                {% else %}
                    <h1 class="text-primary">Filme: </h1>

                    {% if movies | length == 0 %}
                        {% include 'movies/no_movies.html.twig' %}
                    {% else %}
                        {% include 'movies/movie_carousel.html.twig' with {'id': 'all-movies-1', 'movies': movies, 'main': 1} only %}
                    {% endif %}

                    {% include 'pagination.part.html.twig' %}
                {% endif %}
            </div>
            <div class="col-12 col-lg-4 order-lg-1">
                {% if latest_movies | length > 0 %}
                    <h1 class="text-primary">Neuste Filme auf der Seite:</h1>
                    {% include 'movies/movie_carousel.html.twig' with {'id': 'latest-movies', 'movies': latest_movies} only %}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
